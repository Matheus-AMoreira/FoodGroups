<div class="p-4">
  <div class="flex gap-4 mb-6">
    <select [ngModel]="mes()" (ngModelChange)="mes.set($event); carregar()" class="border p-2 rounded">
      @for (mes of meses(); track mes; let i = $index) {
        <option [value]="i + 1">{{ mes }}</option>
      }
    </select>

    <select [ngModel]="ano()" (ngModelChange)="ano.set($event); carregar()" class="border p-2 rounded">
      @for (ano of anos(); track ano) {
        <option [value]="ano">{{ ano }}</option>
      }
    </select>
  </div>

  <div class="grid gap-4">
    @for (data of datasAgenda(); track data) {
      <div class="border rounded-lg p-4 bg-white shadow-sm">
        <h3 class="font-bold text-lg mb-2 text-blue-600">
          {{ formatarData(data) }}
        </h3>
        
        <div class="space-y-2">
          @for (refeicao of agenda()[data]; track $index) {
            <div class="flex justify-between items-center border-b pb-1">
              <div>
                <span class="font-medium text-blue-700">{{ refeicao.tipo }}</span>
                <span class="text-gray-500 text-sm ml-2">- {{ refeicao.descricao }}</span>
              </div>
              <div class="text-sm font-semibold" [class.text-red-600]="refeicao.quantidadePessoas >= refeicao.limite">
                {{ refeicao.quantidadePessoas }}/{{ refeicao.limite }}
              </div>
            </div>
          }
        </div>
      </div>
    } @empty {
      <div class="text-center py-10">
        <p class="text-gray-500">Nenhum dado encontrado para este per√≠odo.</p>
      </div>
    }
  </div>
</div>